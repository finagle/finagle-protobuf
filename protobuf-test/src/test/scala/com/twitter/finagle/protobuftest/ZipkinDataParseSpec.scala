package com.twitter.finagle.protobuftest

import org.slf4j.{LoggerFactory, Logger}
import org.specs.SpecificationWithJUnit
// import play.api.libs.json._

object ZipkinDataParseSpec extends SpecificationWithJUnit {

  private val LOGGER: Logger = LoggerFactory.getLogger(ZipkinDataParseSpec.getClass)

  def setup() {}

  def tearDown() {}

  "Parse zipkin JSON data" should {
    doBefore {
      setup()
    }
    doAfter {
      tearDown()
    }

    "parse skew disabled" in {
      LOGGER.warn("skew disabled")
    }
  }

  val skewDisabled: String = "{\"trace\":{\"traceId\":\"986b66b6446f5aa1\",\"spans\":[{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"Sum\",\"id\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"services\":[\"finaglecalculator\",\"distributedcalculatorservice\"],\"startTimestamp\":1399223328710000,\"duration\":5204000,\"annotations\":[{\"timestamp\":\"1399223328710000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328718000\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328756000\",\"value\":\"pb-impl-end: elapsed: 40ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328757000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328757000\",\"value\":\"server send: elapsed: 47ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333774000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null},{\"timestamp\":\"1399223333914000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null},{\"timestamp\":\"1399223333914000\",\"value\":\"client receive: elapsed: 140ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"DistributedCalculatorService\"}}]},{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"Sum\",\"id\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"services\":[\"finaglesummer\",\"calculatorservice\"],\"startTimestamp\":1399223328721000,\"duration\":20000,\"annotations\":[{\"timestamp\":\"1399223328721000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null},{\"timestamp\":\"1399223328733000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328739000\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328740000\",\"value\":\"pb-impl-end: elapsed: 1ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328741000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null},{\"timestamp\":\"1399223328741000\",\"value\":\"client receive: elapsed: 19ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null},{\"timestamp\":\"1399223328741000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223328741000\",\"value\":\"server send: elapsed: 8ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"CalculatorService\"}}]},{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"a-test-10\",\"id\":\"986b66b6446f5aa1\",\"parentId\":null,\"services\":[\"protobuftestspec$\"],\"startTimestamp\":1399223333669000,\"duration\":332000,\"annotations\":[{\"timestamp\":\"1399223333669000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223333671000\",\"value\":\"test start\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223334000000\",\"value\":\"test end\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223334001000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null}],\"binaryAnnotations\":[]}],\"startTimestamp\":1399223328710000,\"endTimestamp\":1399223334001000,\"duration\":5291000,\"serviceCounts\":{\"finaglesummer\":1,\"finaglecalculator\":1,\"protobuftestspec$\":1,\"distributedcalculatorservice\":1,\"calculatorservice\":1}},\"traceSummary\":{\"traceId\":\"986b66b6446f5aa1\",\"startTimestamp\":1399223328710000,\"endTimestamp\":1399223334001000,\"durationMicro\":5291000,\"serviceCounts\":{\"finaglesummer\":1,\"finaglecalculator\":1,\"protobuftestspec$\":1,\"distributedcalculatorservice\":1,\"calculatorservice\":1},\"endpoints\":[{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}]},\"traceTimeline\":{\"traceId\":\"986b66b6446f5aa1\",\"rootSpanId\":\"986b66b6446f5aa1\",\"annotations\":[{\"timestamp\":\"1399223328710000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328718000\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328721000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328733000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328739000\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328740000\",\"value\":\"pb-impl-end: elapsed: 1ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328741000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328741000\",\"value\":\"client receive: elapsed: 19ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328741000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328741000\",\"value\":\"server send: elapsed: 8ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328756000\",\"value\":\"pb-impl-end: elapsed: 40ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328757000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223328757000\",\"value\":\"server send: elapsed: 47ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333669000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223333671000\",\"value\":\"test start\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223333774000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333914000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333914000\",\"value\":\"client receive: elapsed: 140ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223334000000\",\"value\":\"test end\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223334001000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"DistributedCalculatorService\"}},{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"CalculatorService\"}}]},\"spanDepths\":{\"-7463759024418235743\":1,\"-8877267522953101820\":3,\"8868920338636582698\":2}}"

  val skewEnabled: String = "{\"trace\":{\"traceId\":\"986b66b6446f5aa1\",\"spans\":[{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"Sum\",\"id\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"services\":[\"finaglesummer\",\"calculatorservice\"],\"startTimestamp\":1399223328741000,\"duration\":10215000,\"annotations\":[{\"timestamp\":\"1399223328741000\",\"value\":\"client receive: elapsed: 19ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null},{\"timestamp\":\"1399223333837500\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333843500\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333844500\",\"value\":\"pb-impl-end: elapsed: 1ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333845500\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333845500\",\"value\":\"server send: elapsed: 8ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223338936000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null},{\"timestamp\":\"1399223338956000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"duration\":null}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"CalculatorService\"}}]},{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"a-test-10\",\"id\":\"986b66b6446f5aa1\",\"parentId\":null,\"services\":[\"protobuftestspec$\",\"finaglecalculator\"],\"startTimestamp\":1399223333669000,\"duration\":332000,\"annotations\":[{\"timestamp\":\"1399223333669000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223333669000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null},{\"timestamp\":\"1399223333671000\",\"value\":\"test start\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223334000000\",\"value\":\"test end\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223334001000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"duration\":null},{\"timestamp\":\"1399223334001000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null}],\"binaryAnnotations\":[]},{\"traceId\":\"986b66b6446f5aa1\",\"name\":\"Sum\",\"id\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"services\":[\"finaglecalculator\",\"distributedcalculatorservice\"],\"startTimestamp\":1399223333820500,\"duration\":5204000,\"annotations\":[{\"timestamp\":\"1399223333820500\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333828500\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333866500\",\"value\":\"pb-impl-end: elapsed: 40ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333867500\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333867500\",\"value\":\"server send: elapsed: 47ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"duration\":null},{\"timestamp\":\"1399223333914000\",\"value\":\"client receive: elapsed: 140ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null},{\"timestamp\":\"1399223338884500\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null},{\"timestamp\":\"1399223339024500\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"duration\":null}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"DistributedCalculatorService\"}}]}],\"startTimestamp\":1399223328741000,\"endTimestamp\":1399223339024500,\"duration\":10283500,\"serviceCounts\":{\"finaglesummer\":1,\"finaglecalculator\":2,\"protobuftestspec$\":1,\"distributedcalculatorservice\":1,\"calculatorservice\":1}},\"traceSummary\":{\"traceId\":\"986b66b6446f5aa1\",\"startTimestamp\":1399223328741000,\"endTimestamp\":1399223339024500,\"durationMicro\":10283500,\"serviceCounts\":{\"finaglesummer\":1,\"finaglecalculator\":2,\"protobuftestspec$\":1,\"distributedcalculatorservice\":1,\"calculatorservice\":1},\"endpoints\":[{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}]},\"traceTimeline\":{\"traceId\":\"986b66b6446f5aa1\",\"rootSpanId\":\"986b66b6446f5aa1\",\"annotations\":[{\"timestamp\":\"1399223328741000\",\"value\":\"client receive: elapsed: 19ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333669000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223333669000\",\"value\":\"sr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"FinagleCalculator\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223333671000\",\"value\":\"test start\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223333820500\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333828500\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333837500\",\"value\":\"sr\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333843500\",\"value\":\"pb-impl-start\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333844500\",\"value\":\"pb-impl-end: elapsed: 1ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333845500\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333845500\",\"value\":\"server send: elapsed: 8ms\",\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"CalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333866500\",\"value\":\"pb-impl-end: elapsed: 40ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333867500\",\"value\":\"ss\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333867500\",\"value\":\"server send: elapsed: 47ms\",\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"DistributedCalculatorService\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223333914000\",\"value\":\"client receive: elapsed: 140ms\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223334000000\",\"value\":\"test end\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223334001000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"ProtobufTestSpec$\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"ProtobufTestSpec$\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223334001000\",\"value\":\"ss\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"986b66b6446f5aa1\",\"parentId\":null,\"serviceName\":\"FinagleCalculator\",\"spanName\":\"a-test-10\"},{\"timestamp\":\"1399223338884500\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223338936000\",\"value\":\"cs\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223338956000\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"},\"spanId\":\"84cd9c38be44be04\",\"parentId\":\"7b14bc0ef5abaf2a\",\"serviceName\":\"FinagleSummer\",\"spanName\":\"Sum\"},{\"timestamp\":\"1399223339024500\",\"value\":\"cr\",\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"},\"spanId\":\"7b14bc0ef5abaf2a\",\"parentId\":\"986b66b6446f5aa1\",\"serviceName\":\"FinagleCalculator\",\"spanName\":\"Sum\"}],\"binaryAnnotations\":[{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"FinagleSummer\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.207\",\"port\":10401,\"serviceName\":\"CalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":49809,\"serviceName\":\"CalculatorService\"}},{\"key\":\"finagle.version\",\"value\":\"6T1.13.1T1-TENDRIL-SNAPSHOT\",\"annotationType\":{\"value\":6,\"name\":\"String\"},\"host\":{\"ipv4\":\"127.0.0.1\",\"port\":0,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"FinagleCalculator\"}},{\"key\":\"sa\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"10.10.10.209\",\"port\":10401,\"serviceName\":\"DistributedCalculatorService\"}},{\"key\":\"ca\",\"value\":true,\"annotationType\":{\"value\":0,\"name\":\"Bool\"},\"host\":{\"ipv4\":\"192.168.229.89\",\"port\":54347,\"serviceName\":\"DistributedCalculatorService\"}}]},\"spanDepths\":{\"-7463759024418235743\":1,\"-8877267522953101820\":3,\"8868920338636582698\":2}}"
}
